# Модульный фронтэнд

Этот проект построен с помощью пакета **lerna**, который используется в работе с моно-репозиториями для JavaScript проектов. Это решение помогает разделять код на независимые друг от друга библиотеки, тем самым позволяя выносить какой-либо функционал в переиспользуемые модули, хранящиеся в директории `packages`. В дальнейшем каждый пакет может быть опубликован в акртифакторий для дальнейшего переиспользования в других приложениях

## Npm команды

- `npm install` - необходимо выполнить один раз после клонирования репозитория
- `npm run bootstrap` - устанавливает зависимости для пакетов в директории `/packages/*`
- `npm start` - поднимает dev-сервер для локальной разработки и слушает изменения во всех пакетах
- `npm run clean` - удаляет загруженные зависимости для пакетов, `/node_modules` в корне репозитория команда не очищает, поэтому после этой компанды выполнять `npm install` не требуется

Для установки зависимости в конкретный пакет можно воспользоваться командой `lerna add npm-module-name --scope app`, где после scope указывается целевой модуль

## Packages 

### app
##### packages/app

Это главный пакет, который вбирает в себя остальные модули и собирается в обычное SPA-приложение с помощью `react-scripts`. Именно его билд необходимо деплоить на целевые сервера.

#### Файлы и директории приложения
- `src/store.js` - конфигурация **redux** хранилища приложения. В нем подключаются и настраиваются middlewares и reducers
- `src/theme.js` - в этом файле можно перезаписать значения стандартной темы [библиотеки компонентов](design.ursip.ru)
- `src/assets` - в эту директорию необходимо складывать общие для всех компонентов файлы. Например шрифты, логотипы и так далее
- `src/routes.js` - хранит страницы (роуты) приложения
- 'src/services` - хранит утки, работающие с API
- `src/utils` - универсальные фурнкции
- `src/components/*` - в это директории группируем компоненты по модулям/виджетам
- `src/components/common` - здесь хранятся компоненты общего назначения

 
### Redux
[redux-dynamic-modules](https://github.com/Microsoft/redux-dynamic-modules)

### Ajax
[redux-saga-requests](https://github.com/klis87/redux-saga-requests)